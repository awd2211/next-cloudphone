# 云手机平台环境变量配置示例
# 复制此文件为 .env 并填写实际值

# =====================================================
# 通用配置
# =====================================================
NODE_ENV=development
TZ=Asia/Shanghai

# =====================================================
# 数据库配置
# =====================================================
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_DATABASE=cloudphone

# =====================================================
# Redis 配置
# =====================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# =====================================================
# RabbitMQ 配置
# =====================================================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=admin
RABBITMQ_PASSWORD=admin
RABBITMQ_VHOST=/

# =====================================================
# MinIO 对象存储配置
# =====================================================
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=cloudphone
MINIO_USE_SSL=false

# =====================================================
# JWT 配置
# =====================================================
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRES_IN=24h

# =====================================================
# 服务端口配置
# =====================================================
API_GATEWAY_PORT=30000
USER_SERVICE_PORT=30001
DEVICE_SERVICE_PORT=30002
APP_SERVICE_PORT=30003
SCHEDULER_SERVICE_PORT=30004
BILLING_SERVICE_PORT=30005
MEDIA_SERVICE_PORT=30006

# =====================================================
# 前端端口配置
# =====================================================
ADMIN_PORT=3001
USER_PORT=3002

# =====================================================
# 日志配置
# =====================================================
LOG_LEVEL=info
LOG_FORMAT=json

# =====================================================
# CORS 配置
# =====================================================
CORS_ORIGINS=http://localhost:30001,http://localhost:30002

# =====================================================
# 文件上传配置
# =====================================================
MAX_FILE_SIZE=104857600  # 100MB in bytes
UPLOAD_DIR=/tmp/uploads

# =====================================================
# WebRTC 配置
# =====================================================
TURN_SERVER_URL=turn:your-turn-server.com:3478
TURN_USERNAME=username
TURN_CREDENTIAL=password
STUN_SERVER_URL=stun:stun.l.google.com:19302

# =====================================================
# 邮件配置 (可选)
# =====================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-password
SMTP_FROM=noreply@cloudphone.run

# =====================================================
# 监控配置
# =====================================================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=admin

# =====================================================
# 云服务配置 (可选)
# =====================================================
# AWS
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# 阿里云
ALIYUN_REGION=cn-hangzhou
ALIYUN_ACCESS_KEY_ID=
ALIYUN_ACCESS_KEY_SECRET=

# =====================================================
# ADB 配置
# =====================================================
ADB_HOST=localhost
ADB_PORT=5037

# =====================================================
# 文件路径配置
# =====================================================
SCREENSHOT_DIR=/tmp/screenshots
REPORTS_DIR=/tmp/reports
APK_UPLOAD_DIR=/tmp/apk-uploads

# =====================================================
# 微服务 URL 配置
# =====================================================
API_GATEWAY_URL=http://localhost:30000
USER_SERVICE_URL=http://localhost:30001
DEVICE_SERVICE_URL=http://localhost:30002
APP_SERVICE_URL=http://localhost:30003
SCHEDULER_SERVICE_URL=http://localhost:30004
BILLING_SERVICE_URL=http://localhost:30005
MEDIA_SERVICE_URL=http://localhost:30006

# =====================================================
# 计量配置
# =====================================================
USAGE_RECORD_RETENTION_DAYS=90

# =====================================================
# 限流配置
# =====================================================
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# =====================================================
# ICE 端口配置（WebRTC）
# =====================================================
ICE_PORT_MIN=10000
ICE_PORT_MAX=20000

# =====================================================
# 支付配置
# =====================================================
# 微信支付
WECHAT_APP_ID=your-wechat-app-id
WECHAT_MCH_ID=your-merchant-id
WECHAT_SERIAL_NO=your-certificate-serial-no
WECHAT_API_V3_KEY=your-api-v3-key
WECHAT_PRIVATE_KEY=your-private-key-path
WECHAT_PUBLIC_KEY=your-public-key-path

# 支付宝
ALIPAY_APP_ID=your-alipay-app-id
ALIPAY_PRIVATE_KEY=your-alipay-private-key
ALIPAY_PUBLIC_KEY=your-alipay-public-key
ALIPAY_GATEWAY=https://openapi.alipay.com/gateway.do

# =====================================================
# 其他配置
# =====================================================
# 是否启用 API 文档
ENABLE_API_DOCS=true

# 是否启用调试模式
DEBUG=false

# 数据库连接池大小
DB_POOL_SIZE=10

# Redis 连接池大小
REDIS_POOL_SIZE=10
