# ========================================
# App Service 环境变量配置示例
# 复制此文件为 .env 并填入实际值
# ========================================

# ===== 运行环境 =====
NODE_ENV=development
PORT=30003

# ===== 数据库配置 =====
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_DATABASE=cloudphone_app

# ===== Redis 配置 =====
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ===== JWT 配置 =====
# 重要: 必须与其他服务保持一致
JWT_SECRET=your-secret-key-change-in-production-use-at-least-32-characters
JWT_EXPIRES_IN=24h

# ===== RabbitMQ 配置 =====
RABBITMQ_URL=amqp://admin:admin123@localhost:5672/cloudphone
RABBITMQ_EXCHANGE=cloudphone.events
RABBITMQ_QUEUE_PREFIX=app-service

# ===== Consul 配置 =====
CONSUL_HOST=localhost
CONSUL_PORT=8500
CONSUL_SERVICE_NAME=app-service
CONSUL_SERVICE_PORT=30003

# ===== MinIO 对象存储 =====
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=cloudphone-apps
MINIO_USE_SSL=false

# ===== APK 上传配置 =====
MAX_APK_SIZE=209715200  # 200MB
ALLOWED_APK_TYPES=application/vnd.android.package-archive
UPLOAD_TEMP_DIR=/tmp/apk-uploads

# ===== APK 解析配置 =====
AAPT_PATH=/usr/bin/aapt
APK_SCAN_TIMEOUT=60000  # 毫秒

# ===== 应用安装配置 =====
INSTALL_TIMEOUT=120000  # 毫秒
UNINSTALL_TIMEOUT=60000  # 毫秒
MAX_CONCURRENT_INSTALLS=10

# ===== 服务地址 =====
DEVICE_SERVICE_URL=http://localhost:30002

# ===== 应用市场 (可选) =====
ENABLE_APP_MARKET=true
APP_MARKET_SYNC_INTERVAL=3600  # 秒

# ===== 病毒扫描 (可选) =====
ENABLE_VIRUS_SCAN=false
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# ===== 日志配置 =====
LOG_LEVEL=debug
LOG_FORMAT=dev
