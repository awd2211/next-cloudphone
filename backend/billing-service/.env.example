# Billing Service 环境变量配置示例
# 复制此文件为 .env 并填入实际值

# ===== 运行环境 =====
NODE_ENV=development
PORT=3006

# ===== 数据库配置 =====
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_DATABASE=cloudphone

# ===== Redis 配置 =====
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ===== JWT 配置 =====
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRES_IN=24h

# ===== 计费配置 =====
BILLING_CURRENCY=CNY
BILLING_CYCLE=hourly  # hourly | daily | monthly
PRICE_PER_HOUR=1.0
PRICE_PER_GB_STORAGE=0.1
PRICE_PER_GB_TRAFFIC=0.5

# ===== 套餐配置 =====
ENABLE_PACKAGE_PLANS=true
FREE_TRIAL_DURATION=72  # 小时
FREE_TRIAL_CREDITS=100  # CNY

# ===== 订单配置 =====
ORDER_TIMEOUT=1800  # 30分钟 (秒)
ORDER_AUTO_CANCEL=true
INVOICE_GENERATION=true

# ===== 微信支付 =====
WECHAT_PAY_ENABLED=false
WECHAT_APP_ID=
WECHAT_MCH_ID=
WECHAT_SERIAL_NO=
WECHAT_API_V3_KEY=
WECHAT_PRIVATE_KEY=
WECHAT_PUBLIC_KEY=

# ===== 支付宝 =====
ALIPAY_ENABLED=false
ALIPAY_APP_ID=
ALIPAY_PRIVATE_KEY=
ALIPAY_PUBLIC_KEY=
ALIPAY_GATEWAY=https://openapi.alipay.com/gateway.do

# ===== Stripe (国际支付) =====
STRIPE_ENABLED=false
STRIPE_PUBLIC_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ===== 账单配置 =====
INVOICE_EMAIL_ENABLED=true
INVOICE_AUTO_SEND=true
INVOICE_GENERATION_DAY=1

# ===== 欠费处理 =====
ENABLE_OVERDUE_CHECK=true
OVERDUE_GRACE_PERIOD=3  # 天
OVERDUE_SUSPEND_DEVICES=true

# ===== 服务地址 =====
DEVICE_SERVICE_URL=http://localhost:3002
USER_SERVICE_URL=http://localhost:3001

# ===== 日志配置 =====
LOG_LEVEL=debug
LOG_FORMAT=dev
