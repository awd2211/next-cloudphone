# ========================================
# 代理服务配置示例
# ========================================
#
# 用于 billing-service 集成代理功能
# 复制此文件为 .env，并根据实际情况修改配置

# ========== 代理服务配置 ==========

# 代理服务 URL
PROXY_SERVICE_URL=http://localhost:30007

# 是否启用代理（true/false）
# true: 汇率 API 和支付网关将通过代理访问
# false: 直接访问外部 API（可能触发限流）
PROXY_ENABLED=true

# 代理请求超时时间（毫秒）
PROXY_TIMEOUT=10000

# 代理请求最大重试次数
PROXY_MAX_RETRIES=2

# 是否启用熔断器（true/false）
# 当代理服务不可用时自动降级到直接访问
PROXY_CIRCUIT_BREAKER=true

# ========== 汇率 API 配置 ==========

# 汇率 API Key（可选，免费版无需配置）
# 免费版: https://open.er-api.com (限制: 每IP每天1500次)
# 付费版: https://exchangerate-api.com (需要 API Key)
EXCHANGE_RATE_API_KEY=

# ========== PayPal 配置 ==========

# PayPal 模式: sandbox 或 production
PAYPAL_MODE=sandbox

# Sandbox 环境凭证
PAYPAL_SANDBOX_CLIENT_ID=your_sandbox_client_id
PAYPAL_SANDBOX_SECRET=your_sandbox_secret

# Production 环境凭证
PAYPAL_LIVE_CLIENT_ID=your_live_client_id
PAYPAL_LIVE_SECRET=your_live_secret

# PayPal Webhook ID (用于验证回调)
PAYPAL_WEBHOOK_ID=your_webhook_id

# ========================================
# 使用说明
# ========================================
#
# 1. 汇率 API 代理使用：
#    - 设置 PROXY_ENABLED=true
#    - CurrencyService 将自动通过代理获取汇率
#    - 绕过免费版每IP每天1500次的限制
#
# 2. PayPal 代理使用：
#    - PayPal SDK 默认不支持代理
#    - 如需使用代理，需要自定义 HTTP 客户端
#    - 参考文档: /docs/PROXY_PAYPAL_INTEGRATION.md
#
# 3. 代理池监控：
#    - 查看代理池统计: http://localhost:30007/proxy/pool/stats
#    - 查看使用统计: http://localhost:30007/proxy/usage/stats
#
# 4. 性能优化：
#    - 代理增加 ~100-300ms 延迟
#    - 使用高质量代理 (minQuality: 80+) 可减少延迟
#    - 启用缓存减少 API 调用次数
#
# ========================================
