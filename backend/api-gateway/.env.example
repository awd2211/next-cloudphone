# ========================================
# API Gateway 环境变量配置示例
# 复制此文件为 .env 并填入实际值
# ========================================

# ===== 运行环境 =====
NODE_ENV=development
PORT=30000

# ===== 数据库配置 =====
# ⚠️  API Gateway 不需要数据库连接
# 认证数据通过 JWT Token 传递，不直接查询数据库
# 如果需要启用数据库（如请求日志），请取消下面的注释
# DB_HOST=localhost
# DB_PORT=5432
# DB_USERNAME=postgres
# DB_PASSWORD=postgres
# DB_DATABASE=cloudphone_gateway

# ===== Redis 配置 =====
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ===== JWT 配置 =====
# 重要: 生产环境必须修改为强密码，且必须与所有服务保持一致
JWT_SECRET=your-secret-key-change-in-production-use-at-least-32-characters
JWT_EXPIRES_IN=24h

# ===== Consul 配置 =====
# 服务发现和注册
CONSUL_HOST=localhost
CONSUL_PORT=8500
CONSUL_SERVICE_NAME=api-gateway
CONSUL_SERVICE_PORT=30000

# ===== 微服务地址 =====
# 注意: 启用 Consul 后，这些 URL 将通过服务发现动态获取
USER_SERVICE_URL=http://localhost:30001
DEVICE_SERVICE_URL=http://localhost:30002
APP_SERVICE_URL=http://localhost:30003
BILLING_SERVICE_URL=http://localhost:30005
NOTIFICATION_SERVICE_URL=http://localhost:30006
PROXY_SERVICE_URL=http://localhost:30007
SMS_RECEIVE_SERVICE_URL=http://localhost:30008

# ===== 限流配置 =====
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ===== CORS 配置 =====
CORS_ORIGIN=http://localhost:5173,http://localhost:5174
CORS_CREDENTIALS=true

# ===== 日志配置 =====
LOG_LEVEL=debug
LOG_FORMAT=dev
MEDIA_SERVICE_URL=http://localhost:30009
