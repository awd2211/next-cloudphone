# =============================================
# LiveChat Service Environment Configuration
# 在线客服服务环境配置
# =============================================

# 服务基础配置
NODE_ENV=development
PORT=30010
APP_VERSION=1.0.0

# =============================================
# 数据库配置
# =============================================
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_DATABASE=cloudphone_livechat

# =============================================
# Redis 配置
# =============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================
# RabbitMQ 配置
# =============================================
RABBITMQ_URL=amqp://admin:admin123@localhost:5672/cloudphone

# =============================================
# JWT 配置 (必须与其他服务一致)
# =============================================
JWT_SECRET=your-super-secret-key-change-in-production
JWT_EXPIRES_IN=7d

# =============================================
# Consul 服务发现
# =============================================
CONSUL_HOST=localhost
CONSUL_PORT=8500

# =============================================
# MinIO 文件存储 (用于多媒体消息)
# =============================================
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=livechat-media
MINIO_USE_SSL=false

# =============================================
# AI 智能客服配置
# =============================================
AI_ENABLED=true
AI_PROVIDER=openai
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4o-mini
OPENAI_BASE_URL=https://api.openai.com/v1

# 备用 AI 配置 (国内可使用)
# AI_PROVIDER=azure
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
# AZURE_OPENAI_API_KEY=your-azure-key
# AZURE_OPENAI_DEPLOYMENT=gpt-4o-mini

# =============================================
# 消息加密配置
# =============================================
ENCRYPTION_ENABLED=true
ENCRYPTION_KEY=your-32-character-encryption-key!
ENCRYPTION_ALGORITHM=aes-256-gcm

# =============================================
# 排队配置
# =============================================
QUEUE_MAX_WAIT_TIME=300
QUEUE_DEFAULT_PRIORITY=normal
QUEUE_VIP_PRIORITY=high

# =============================================
# 会话配置
# =============================================
SESSION_IDLE_TIMEOUT=600
SESSION_MAX_DURATION=3600
AUTO_CLOSE_RESOLVED=true

# =============================================
# 质检配置
# =============================================
QUALITY_CHECK_ENABLED=true
SENSITIVE_WORDS_CHECK=true

# =============================================
# 归档配置
# =============================================
ARCHIVE_ENABLED=true
ARCHIVE_AFTER_DAYS=90
ARCHIVE_DELETE_AFTER_DAYS=365

# =============================================
# 分布式追踪
# =============================================
OTEL_ENABLED=true
JAEGER_ENDPOINT=http://localhost:4318/v1/traces

# =============================================
# 日志配置
# =============================================
LOG_LEVEL=debug
