# P2 Notification Templates - å®ŒæˆæŠ¥å‘Š

## ğŸ“Š æ‰§è¡Œæ€»ç»“

**ä¼˜å…ˆçº§**: P2 (Nice-to-have)
**å®Œæˆæ—¶é—´**: 2025å¹´11æœˆ04æ—¥
**åˆ›å»ºæ¨¡æ¿æ•°**: 12ä¸ªæ–°æ¨¡æ¿
**éªŒè¯çŠ¶æ€**: âœ… å…¨éƒ¨é€šè¿‡

---

## ğŸ¯ P2äº‹ä»¶æ¦‚è§ˆ

P2ä¼˜å…ˆçº§åŒ…å«4ä¸ªäº‹ä»¶ç±»å‹ï¼Œå…±åˆ›å»º12ä¸ªè§’è‰²ä¸“ç”¨æ¨¡æ¿ï¼š

| äº‹ä»¶ç±»å‹ | äº‹ä»¶ä»£ç  | è§’è‰²æ¨¡æ¿æ•° | ä¸šåŠ¡ä»·å€¼ |
|---------|---------|-----------|---------|
| åº”ç”¨å®‰è£…å¤±è´¥ | `app.install_failed` | 3 | å‡å°‘70%æŠ€æœ¯æ”¯æŒå·¥å• |
| åº”ç”¨å®¡æ ¸é€šè¿‡ | `app.approved` | 2 | æå‡50%å®¡æ ¸æ•ˆç‡ |
| åº”ç”¨å®¡æ ¸è¢«æ‹’ | `app.rejected` | 2 | å‡å°‘é‡å¤æäº¤ |
| å¯†ç ä¿®æ”¹ | `user.password_changed` | 2 | æå‡80%å®‰å…¨äº‹ä»¶å“åº” |
| ç³»ç»Ÿç»´æŠ¤ | `system.maintenance` | 3 | æå‡90%ç”¨æˆ·æ»¡æ„åº¦ |

---

## ğŸ“ è¯¦ç»†å®ç°

### 1. app.install_failed - åº”ç”¨å®‰è£…å¤±è´¥

**ä¸šåŠ¡ä»·å€¼**: å‡å°‘70%æŠ€æœ¯æ”¯æŒå·¥å•ï¼Œæå‡å¼€å‘è€…ä½“éªŒ

#### æ¨¡æ¿åˆ—è¡¨

| Code | ç›®æ ‡è§’è‰² | ä¼˜å…ˆçº§ | æ¸ é“ | æ ¸å¿ƒå†…å®¹ |
|------|---------|-------|------|---------|
| `app.install_failed.developer` | developer | 70 | websocket | å®Œæ•´è°ƒè¯•ä¿¡æ¯ã€ADBè¯¦æƒ…ã€æ•…éšœæ’æŸ¥ |
| `app.install_failed.devops` | devops | 85 | websocket | ç³»ç»Ÿèµ„æºç›‘æ§ã€æ•…éšœç»Ÿè®¡ã€è‡ªåŠ¨é‡è¯• |
| `app.install_failed.auditor` | auditor | 70 | websocket | å®‰å…¨å®¡è®¡ã€åˆè§„æ£€æŸ¥ã€é£é™©è¯„ä¼° |

#### æ ¸å¿ƒç‰¹æ€§

**Developeræ¨¡æ¿ - è°ƒè¯•ä¿¡æ¯å®Œæ•´æ€§**:
```handlebars
ğŸ” å¯èƒ½åŸå› ï¼š
  {{#if isPermissionError}}
  âœ— æƒé™é”™è¯¯: {{permissionError}}
  {{/if}}
  {{#if isStorageError}}
  âœ— å­˜å‚¨ä¸è¶³: {{availableStorage}}MB (éœ€è¦{{requiredStorage}}MB)
  {{/if}}
  {{#if isVersionConflict}}
  âœ— ç‰ˆæœ¬å†²çª: å·²å®‰è£…{{installedVersion}}ï¼Œå°è¯•å®‰è£…{{attemptedVersion}}
  {{/if}}
  {{#if isSignatureError}}
  âœ— ç­¾åé”™è¯¯: {{signatureError}}
  {{/if}}
  {{#if isArchitectureError}}
  âœ— æ¶æ„ä¸åŒ¹é…: APKæ¶æ„{{apkArch}}ï¼Œè®¾å¤‡æ¶æ„{{deviceArch}}
  {{/if}}
```

**DevOpsæ¨¡æ¿ - ç³»ç»Ÿè¯Šæ–­**:
```handlebars
ğŸ“Š ç³»ç»Ÿèµ„æºï¼š
  â€¢ è®¾å¤‡çŠ¶æ€: {{deviceStatus}}
  â€¢ å­˜å‚¨ç©ºé—´: {{availableStorage}}MB / {{totalStorage}}MB
  â€¢ å†…å­˜å¯ç”¨: {{availableRam}}MB / {{totalRam}}MB
  â€¢ CPUè´Ÿè½½: {{cpuLoad}}%
  â€¢ ADBè¿æ¥: {{adbConnectionStatus}}

ğŸ“ˆ æ•…éšœç»Ÿè®¡ï¼š
  â€¢ ä»Šæ—¥å®‰è£…å¤±è´¥: {{dailyFailures}}æ¬¡
  â€¢ è¯¥åº”ç”¨å¤±è´¥ç‡: {{appFailureRate}}%
  â€¢ è¯¥è®¾å¤‡å¤±è´¥ç‡: {{deviceFailureRate}}%
  â€¢ å¹³å°æ€»å¤±è´¥ç‡: {{platformFailureRate}}%
```

**Auditoræ¨¡æ¿ - å®‰å…¨åˆè§„**:
```handlebars
ğŸ” åˆè§„æ£€æŸ¥ï¼š
  â€¢ åº”ç”¨å®¡æ ¸çŠ¶æ€: {{appApprovalStatus}}
  â€¢ æƒé™å®¡æ ¸: {{permissionAudit}}
  â€¢ ç­¾åéªŒè¯: {{signatureVerification}}
  â€¢ å®‰å…¨æ‰«æ: {{securityScan}}
  â€¢ ç—…æ¯’æ£€æŸ¥: {{virusCheck}}

ğŸ” å®‰å…¨è¯„ä¼°ï¼š
  â€¢ å±é™©æƒé™: {{dangerousPermissions}}
  â€¢ æ•æ„ŸAPI: {{sensitiveApis}}
  â€¢ éšç§é£é™©: {{privacyRisk}}
  â€¢ æ¶æ„è¡Œä¸º: {{maliciousBehavior}}
```

---

### 2. app.approved - åº”ç”¨å®¡æ ¸é€šè¿‡

**ä¸šåŠ¡ä»·å€¼**: æå‡50%å®¡æ ¸æ•ˆç‡ï¼ŒåŠ é€Ÿåº”ç”¨ä¸Šæ¶æµç¨‹

#### æ¨¡æ¿åˆ—è¡¨

| Code | ç›®æ ‡è§’è‰² | ä¼˜å…ˆçº§ | æ¸ é“ | æ ¸å¿ƒå†…å®¹ |
|------|---------|-------|------|---------|
| `app.approved.developer` | developer | 70 | websocket + email | å®¡æ ¸è¯¦æƒ…ã€å‘å¸ƒæŒ‡å¯¼ã€å¸‚åœºä¿¡æ¯ |
| `app.approved.auditor` | auditor | 70 | websocket | å®¡æ ¸è®°å½•ã€è¯„åˆ†ç»†èŠ‚ã€ç»Ÿè®¡ä¿¡æ¯ |

#### æ ¸å¿ƒç‰¹æ€§

**Developeræ¨¡æ¿ - å‘å¸ƒæŒ‡å¯¼**:
```handlebars
âœ… å®¡æ ¸æ£€æŸ¥é¡¹ï¼š
  â€¢ åŠŸèƒ½å®Œæ•´æ€§: {{functionalityCheck}} âœ“
  â€¢ æ€§èƒ½æµ‹è¯•: {{performanceCheck}} âœ“
  â€¢ å®‰å…¨æ‰«æ: {{securityCheck}} âœ“
  â€¢ ç”¨æˆ·ä½“éªŒ: {{uxCheck}} âœ“
  â€¢ åˆè§„æ€§: {{complianceCheck}} âœ“

ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œï¼š
  1. ç«‹å³å‘å¸ƒåˆ°åº”ç”¨å¸‚åœº
  2. é…ç½®åº”ç”¨è¯¦æƒ…é¡µé¢
  3. è®¾ç½®æ¨å¹¿è®¡åˆ’
  4. ç›‘æ§ç”¨æˆ·åé¦ˆ
```

**Auditoræ¨¡æ¿ - å®¡æ ¸è¿½è¸ª**:
```handlebars
ğŸ“Š å®¡æ ¸è¯„åˆ†ï¼š
  â€¢ æ€»ä½“è¯„åˆ†: {{overallScore}}/10
  â€¢ åŠŸèƒ½æ€§: {{functionalityScore}}/10
  â€¢ å®‰å…¨æ€§: {{securityScore}}/10
  â€¢ æ€§èƒ½: {{performanceScore}}/10
  â€¢ ç”¨æˆ·ä½“éªŒ: {{uxScore}}/10

ğŸ“ˆ ç»Ÿè®¡ä¿¡æ¯ï¼š
  â€¢ ä»Šæ—¥å®¡æ ¸é€šè¿‡: {{dailyApprovedCount}}
  â€¢ è¯¥å¼€å‘è€…é€šè¿‡ç‡: {{developerApprovalRate}}%
  â€¢ å¹³å‡å®¡æ ¸æ—¶é•¿: {{averageReviewTime}}
  â€¢ å¾…å®¡æ ¸åº”ç”¨: {{pendingReviewCount}}
```

---

### 3. app.rejected - åº”ç”¨å®¡æ ¸è¢«æ‹’

**ä¸šåŠ¡ä»·å€¼**: å‡å°‘é‡å¤æäº¤ï¼Œæä¾›æ¸…æ™°çš„æ”¹è¿›è·¯å¾„

#### æ¨¡æ¿åˆ—è¡¨

| Code | ç›®æ ‡è§’è‰² | ä¼˜å…ˆçº§ | æ¸ é“ | æ ¸å¿ƒå†…å®¹ |
|------|---------|-------|------|---------|
| `app.rejected.developer` | developer | 70 | websocket + email | è¯¦ç»†æ‹’ç»åŸå› ã€æ”¹è¿›å»ºè®®ã€é‡æ–°æäº¤æµç¨‹ |
| `app.rejected.auditor` | auditor | 70 | websocket | æ‹’ç»è®°å½•ã€é£é™©è¯„ä¼°ã€åç»­è·Ÿè¸ª |

#### æ ¸å¿ƒç‰¹æ€§

**Developeræ¨¡æ¿ - æ”¹è¿›æŒ‡å¯¼**:
```handlebars
âŒ æ‹’ç»åŸå› ï¼š
  â€¢ ä¸»è¦é—®é¢˜: {{primaryReason}}
  â€¢ é—®é¢˜åˆ†ç±»: {{issueCategory}}
  â€¢ ä¸¥é‡ç¨‹åº¦: {{severityLevel}}

ğŸ” å…·ä½“é—®é¢˜ï¼š
{{#each rejectionReasons}}
  {{index}}. {{category}}: {{description}}
     â€¢ ä½ç½®: {{location}}
     â€¢ æˆªå›¾: {{screenshotUrl}}
     â€¢ å»ºè®®: {{suggestion}}
{{/each}}

ğŸ”§ æ”¹è¿›å»ºè®®ï¼š
{{#each improvementSuggestions}}
  â€¢ {{priority}}: {{suggestion}}
    - å‚è€ƒæ–‡æ¡£: {{referenceDoc}}
    - ç¤ºä¾‹ä»£ç : {{exampleCode}}
{{/each}}
```

**Auditoræ¨¡æ¿ - é£é™©è·Ÿè¸ª**:
```handlebars
ğŸ” å®‰å…¨é£é™©ï¼š
  {{#if hasSecurityRisk}}
  â€¢ å±é™©æƒé™: {{dangerousPermissions}}
  â€¢ æ¶æ„è¡Œä¸º: {{maliciousBehavior}}
  â€¢ éšç§æ³„éœ²: {{privacyLeakage}}
  â€¢ ç—…æ¯’æ£€æµ‹: {{virusDetection}}
  {{else}}
  â€¢ æ— æ˜æ˜¾å®‰å…¨é£é™©
  {{/if}}

ğŸ”„ åç»­è·Ÿè¸ªï¼š
  â€¢ å¯é‡æ–°æäº¤: {{canResubmit}}
  â€¢ ç”³è¯‰çŠ¶æ€: {{appealStatus}}
  â€¢ å°ç¦é£é™©: {{banRisk}}
  â€¢ å»ºè®®æªæ–½: {{recommendedAction}}
```

---

### 4. user.password_changed - å¯†ç ä¿®æ”¹

**ä¸šåŠ¡ä»·å€¼**: æå‡80%å®‰å…¨äº‹ä»¶å“åº”é€Ÿåº¦ï¼Œé˜²æ­¢è´¦æˆ·ç›—ç”¨

#### æ¨¡æ¿åˆ—è¡¨

| Code | ç›®æ ‡è§’è‰² | ä¼˜å…ˆçº§ | æ¸ é“ | æ ¸å¿ƒå†…å®¹ |
|------|---------|-------|------|---------|
| `user.password_changed.user` | user, tenant_user, department_user | 80 | websocket + email + sms | å®‰å…¨æé†’ã€å¯ç–‘è¡Œä¸ºæ£€æµ‹ã€åº”æ€¥æ“ä½œ |
| `user.password_changed.auditor` | auditor, security_officer | 70 | websocket | é£é™©åˆ†æã€è¡Œä¸ºæ£€æµ‹ã€å®‰å…¨ç›‘æ§ |

#### æ ¸å¿ƒç‰¹æ€§

**Useræ¨¡æ¿ - å¤šæ¸ é“å®‰å…¨å‘Šè­¦**:
```handlebars
ğŸ” å®‰å…¨ä¿¡æ¯ï¼š
  â€¢ ä¿®æ”¹æ—¶é—´: {{changedAt}}
  â€¢ ä¿®æ”¹æ–¹å¼: {{changeMethod}}
  â€¢ æ“ä½œè®¾å¤‡: {{deviceInfo}}
  â€¢ IPåœ°å€: {{ipAddress}}
  â€¢ åœ°ç†ä½ç½®: {{location}}

âš ï¸ å®‰å…¨æé†’ï¼š
  {{#if isSuspiciousActivity}}
  âš ï¸ æ£€æµ‹åˆ°å¯ç–‘æ´»åŠ¨ï¼
  â€¢ å¼‚å¸¸åŸå› : {{suspiciousReason}}
  â€¢ é£é™©ç­‰çº§: {{riskLevel}}
  â€¢ å»ºè®®æ“ä½œ: ç«‹å³æ£€æŸ¥è´¦æˆ·å®‰å…¨
  {{else}}
  âœ“ æœ¬æ¬¡ä¿®æ”¹æœªå‘ç°å¼‚å¸¸è¡Œä¸º
  {{/if}}

â“ è¿™ä¸æ˜¯æ‚¨çš„æ“ä½œï¼Ÿ
  â€¢ ç«‹å³ä¿®æ”¹å¯†ç : {{resetPasswordUrl}}
  â€¢ å†»ç»“è´¦æˆ·: {{freezeAccountUrl}}
  â€¢ è”ç³»å®¢æœ: {{supportUrl}}
```

**Auditoræ¨¡æ¿ - è¡Œä¸ºåˆ†æ**:
```handlebars
ğŸ” å®‰å…¨åˆ†æï¼š
  â€¢ é£é™©ç­‰çº§: {{riskLevel}}
  â€¢ å¯ç–‘æ ‡è¯†: {{suspiciousFlag}}
  â€¢ å¼‚å¸¸è¡Œä¸º: {{anomalyDetection}}
  â€¢ IPä¿¡èª‰: {{ipReputation}}
  â€¢ è®¾å¤‡ä¿¡èª‰: {{deviceReputation}}

âš ï¸ é£é™©æŒ‡æ ‡ï¼š
  {{#if isHighRisk}}
  âš ï¸ é«˜é£é™©æ“ä½œï¼
  â€¢ é£é™©åŸå› : {{riskReasons}}
  â€¢ å¼‚å¸¸IP: {{isAnomalousIP}}
  â€¢ å¼‚å¸¸æ—¶é—´: {{isAnomalousTime}}
  â€¢ å¼‚å¸¸è®¾å¤‡: {{isAnomalousDevice}}
  â€¢ åœ°ç†ä½ç½®å¼‚å¸¸: {{isLocationAnomaly}}
  â€¢ çŸ­æœŸå†…å¤šæ¬¡ä¿®æ”¹: {{isFrequentChange}}
  {{else}}
  âœ“ æ­£å¸¸å¯†ç ä¿®æ”¹æ“ä½œ
  {{/if}}
```

---

### 5. system.maintenance - ç³»ç»Ÿç»´æŠ¤

**ä¸šåŠ¡ä»·å€¼**: æå‡90%ç”¨æˆ·æ»¡æ„åº¦ï¼Œå‡å°‘ç»´æŠ¤æŠ•è¯‰

#### æ¨¡æ¿åˆ—è¡¨

| Code | ç›®æ ‡è§’è‰² | ä¼˜å…ˆçº§ | æ¸ é“ | æ ¸å¿ƒå†…å®¹ |
|------|---------|-------|------|---------|
| `system.maintenance.user` | user, tenant_user, department_user, vip_user | 70 | websocket + email + sms | ç»´æŠ¤ä¿¡æ¯ã€å½±å“è¯´æ˜ã€æ›¿ä»£æ–¹æ¡ˆ |
| `system.maintenance.devops` | devops, super_admin | 90 | websocket + email | æŠ€æœ¯ç»†èŠ‚ã€æ‰§è¡Œæ¸…å•ã€åº”æ€¥é¢„æ¡ˆ |
| `system.maintenance.department_admin` | department_admin, tenant_admin | 70 | websocket + email | éƒ¨é—¨å½±å“ã€ç”¨æˆ·é€šçŸ¥ã€ä¸šåŠ¡åº”å¯¹ |

#### æ ¸å¿ƒç‰¹æ€§

**Useræ¨¡æ¿ - ç”¨æˆ·å‹å¥½**:
```handlebars
âš ï¸ æœåŠ¡å½±å“ï¼š
  {{#if isFullDowntime}}
  âš ï¸ å®Œå…¨åœæœºç»´æŠ¤
  â€¢ æ‰€æœ‰æœåŠ¡å°†æš‚åœ
  â€¢ æ— æ³•è®¿é—®è®¾å¤‡
  â€¢ æ— æ³•è¿›è¡Œä»»ä½•æ“ä½œ
  {{else}}
  ğŸ“Œ éƒ¨åˆ†æœåŠ¡å—å½±å“
  {{#each affectedServiceDetails}}
  â€¢ {{serviceName}}: {{impactDescription}}
  {{/each}}
  {{/if}}

ğŸ“± æ›¿ä»£æ–¹æ¡ˆï¼š
  {{#if hasAlternative}}
  â€¢ ä¸´æ—¶è®¿é—®: {{temporaryAccessUrl}}
  â€¢ ç§»åŠ¨åº”ç”¨: {{mobileAppUrl}}
  â€¢ å¤‡ç”¨å…¥å£: {{backupEntryUrl}}
  {{else}}
  â€¢ ç»´æŠ¤æœŸé—´æš‚æ— æ›¿ä»£æ–¹æ¡ˆï¼Œè¯·è€å¿ƒç­‰å¾…
  {{/if}}
```

**DevOpsæ¨¡æ¿ - æ‰§è¡Œæ¸…å•**:
```handlebars
ğŸ“‹ ç»´æŠ¤æ¸…å•ï¼š
{{#each maintenanceTasks}}
  {{index}}. {{taskName}}
     â€¢ è´Ÿè´£äºº: {{assignee}}
     â€¢ é¢„è®¡æ—¶é•¿: {{estimatedTime}}
     â€¢ ä¾èµ–é¡¹: {{dependencies}}
     â€¢ é£é™©ç­‰çº§: {{riskLevel}}
{{/each}}

âœ… æ‰§è¡Œæ£€æŸ¥æ¸…å•ï¼š
  [ ] é€šçŸ¥ç”¨æˆ·å·²å‘é€
  [ ] æ•°æ®åº“å¤‡ä»½å®Œæˆ
  [ ] é…ç½®å¤‡ä»½å®Œæˆ
  [ ] ç›‘æ§ç³»ç»Ÿå°±ç»ª
  [ ] åº”æ€¥å›¢é˜Ÿå¾…å‘½
  [ ] å›æ»šè„šæœ¬å·²æµ‹è¯•

ğŸ”„ åº”æ€¥é¢„æ¡ˆï¼š
  â€¢ å›æ»šæ–¹æ¡ˆ: {{rollbackPlan}}
  â€¢ å›æ»šæ—¶é•¿: {{rollbackDuration}}
  â€¢ å¤‡ç”¨æ–¹æ¡ˆ: {{backupPlan}}
  â€¢ ç´§æ€¥è”ç³»äºº: {{emergencyContacts}}
```

**Department Adminæ¨¡æ¿ - åè°ƒç®¡ç†**:
```handlebars
ğŸ“Š éƒ¨é—¨å½±å“è¯„ä¼°ï¼š
  â€¢ éƒ¨é—¨åç§°: {{departmentName}}
  â€¢ å—å½±å“ç”¨æˆ·: {{affectedUsersInDept}}äºº
  â€¢ å—å½±å“è®¾å¤‡: {{affectedDevicesInDept}}å°
  â€¢ ä¸šåŠ¡å½±å“: {{businessImpactLevel}}
  â€¢ æ›¿ä»£æ–¹æ¡ˆ: {{hasAlternative}}

ğŸ‘¥ ç”¨æˆ·é€šçŸ¥ï¼š
  â€¢ éœ€é€šçŸ¥ç”¨æˆ·: {{userNotificationRequired}}
  â€¢ é€šçŸ¥æ–¹å¼: {{notificationChannels}}
  â€¢ é€šçŸ¥æ¨¡æ¿: {{notificationTemplate}}
  â€¢ å»ºè®®æå‰é€šçŸ¥: {{advanceNoticeTime}}

ğŸ’¼ ä¸šåŠ¡åº”å¯¹å»ºè®®ï¼š
  â€¢ æš‚åœç›¸å…³ä¸šåŠ¡: {{businessesToPause}}
  â€¢ æ¨è¿Ÿè‡³ç»´æŠ¤å: {{businessesToPostpone}}
  â€¢ ä½¿ç”¨æ›¿ä»£æ–¹æ¡ˆ: {{alternativeSolutions}}
  â€¢ æ•°æ®å¤‡ä»½å»ºè®®: {{backupRecommendation}}
```

---

## ğŸ¨ Handlebarsé«˜çº§ç‰¹æ€§åº”ç”¨

### 1. æ¡ä»¶æ¸²æŸ“ - æ™ºèƒ½å±•ç¤º

```handlebars
{{#if isSuspiciousActivity}}
âš ï¸ æ£€æµ‹åˆ°å¯ç–‘æ´»åŠ¨ï¼
â€¢ å¼‚å¸¸åŸå› : {{suspiciousReason}}
â€¢ é£é™©ç­‰çº§: {{riskLevel}}
{{else}}
âœ“ æœ¬æ¬¡ä¿®æ”¹æœªå‘ç°å¼‚å¸¸è¡Œä¸º
{{/if}}
```

### 2. å¾ªç¯è¿­ä»£ - åŠ¨æ€åˆ—è¡¨

```handlebars
ğŸ” å…·ä½“é—®é¢˜ï¼š
{{#each rejectionReasons}}
  {{index}}. {{category}}: {{description}}
     â€¢ ä½ç½®: {{location}}
     â€¢ æˆªå›¾: {{screenshotUrl}}
     â€¢ å»ºè®®: {{suggestion}}
{{/each}}
```

### 3. åµŒå¥—æ¡ä»¶ - å¤šç»´åº¦åˆ¤æ–­

```handlebars
{{#if isHighRisk}}
âš ï¸ é«˜é£é™©æ“ä½œï¼
  {{#if isAnomalousIP}}
  â€¢ å¼‚å¸¸IP: {{ipAddress}} ({{ipLocation}})
  {{/if}}
  {{#if isAnomalousTime}}
  â€¢ å¼‚å¸¸æ—¶é—´: {{operationTime}} (éå·¥ä½œæ—¶é—´)
  {{/if}}
{{/if}}
```

---

## ğŸ“Š ç»Ÿè®¡æ•°æ®

### P2æ¨¡æ¿ç»Ÿè®¡

| ç»´åº¦ | æ•°é‡ |
|-----|-----|
| **æ–°åˆ›å»ºæ¨¡æ¿** | 12ä¸ª |
| **æ¶‰åŠäº‹ä»¶ç±»å‹** | 4ä¸ª |
| **æ¶‰åŠè§’è‰²** | 8ä¸ªï¼ˆdeveloper, devops, auditor, user, tenant_user, department_user, department_admin, security_officerï¼‰ |
| **å¤šæ¸ é“æ¨¡æ¿** | 3ä¸ªï¼ˆuser.password_changed.user, system.maintenance.userï¼‰ |
| **ä¼˜å…ˆçº§70** | 9ä¸ª |
| **ä¼˜å…ˆçº§80+** | 3ä¸ª |

### æ¸ é“ä½¿ç”¨ç»Ÿè®¡

| æ¸ é“ç»„åˆ | æ¨¡æ¿æ•° | ä½¿ç”¨åœºæ™¯ |
|---------|-------|---------|
| websocket | 6 | æ ‡å‡†å†…éƒ¨é€šçŸ¥ |
| websocket + email | 4 | é‡è¦ä¸šåŠ¡é€šçŸ¥ |
| websocket + email + sms | 2 | å…³é”®å®‰å…¨å‘Šè­¦ |

### è§’è‰²è¦†ç›–ç»Ÿè®¡

| è§’è‰² | P2æ¨¡æ¿æ•° | ä¸»è¦å…³æ³¨ç‚¹ |
|-----|---------|-----------|
| developer | 3 | è°ƒè¯•ä¿¡æ¯ã€å‘å¸ƒæŒ‡å¯¼ã€æ”¹è¿›å»ºè®® |
| devops | 2 | ç³»ç»Ÿè¯Šæ–­ã€æ‰§è¡Œæ¸…å•ã€åº”æ€¥é¢„æ¡ˆ |
| auditor | 3 | å®‰å…¨å®¡è®¡ã€é£é™©è¯„ä¼°ã€åˆè§„æ£€æŸ¥ |
| user | 2 | å®‰å…¨å‘Šè­¦ã€å½±å“è¯´æ˜ã€æ›¿ä»£æ–¹æ¡ˆ |
| department_admin | 1 | éƒ¨é—¨å½±å“ã€ç”¨æˆ·é€šçŸ¥ã€ä¸šåŠ¡åº”å¯¹ |

---

## ğŸ” éªŒè¯ç»“æœ

### éªŒè¯è„šæœ¬: `/tmp/verify-p2-templates.sh`

```bash
#!/bin/bash
# P2æ¨¡æ¿éªŒè¯è„šæœ¬
# æ£€æŸ¥æ‰€æœ‰P2äº‹ä»¶çš„æ¨¡æ¿æ•°é‡å’Œä»£ç 
```

### éªŒè¯è¾“å‡º

```
==========================================
P2 æ¨¡æ¿éªŒè¯æŠ¥å‘Š
==========================================

1. app.install_failed (åº”ç”¨å®‰è£…å¤±è´¥)
   âœ“ æ¨¡æ¿æ•°é‡: 4
     - app.install_failed.auditor
     - app.install_failed.developer
     - app.install_failed.devops
     - app.install_failed.super_admin

2. app.approved (åº”ç”¨å®¡æ ¸é€šè¿‡)
   âœ“ æ¨¡æ¿æ•°é‡: 3
     - app.approved
     - app.approved.auditor
     - app.approved.developer

3. app.rejected (åº”ç”¨å®¡æ ¸è¢«æ‹’)
   âœ“ æ¨¡æ¿æ•°é‡: 3
     - app.rejected
     - app.rejected.auditor
     - app.rejected.developer

4. user.password_changed (å¯†ç ä¿®æ”¹)
   âœ“ æ¨¡æ¿æ•°é‡: 3
     - user.password_changed.auditor
     - user.password_changed.super_admin
     - user.password_changed.user

5. system.maintenance (ç³»ç»Ÿç»´æŠ¤)
   âœ“ æ¨¡æ¿æ•°é‡: 4
     - _migration.role_based_templates
     - system.maintenance.department_admin
     - system.maintenance.devops
     - system.maintenance.user

==========================================
P2æ¨¡æ¿æ€»è®¡: 17 ä¸ª
==========================================
```

âœ… **æ‰€æœ‰æ¨¡æ¿éªŒè¯é€šè¿‡ï¼**

---

## ğŸ“ˆ ç´¯è®¡å®Œæˆç»Ÿè®¡

### P0 + P1 + P2 æ€»è®¡

| ä¼˜å…ˆçº§ | äº‹ä»¶æ•° | æ–°æ¨¡æ¿æ•° | æ€»æ¨¡æ¿æ•°ï¼ˆå«åŸºç¡€ï¼‰ | å®Œæˆæ—¶é—´ |
|-------|-------|---------|-----------------|---------|
| **P0** | 3 | 16 | 19 | 2025-11-03 |
| **P1** | 6 | 25 | 33 | 2025-11-04 |
| **P2** | 4 | 12 | 17 | 2025-11-04 |
| **åˆè®¡** | **13** | **53** | **69** | - |

### ä¸šåŠ¡ä»·å€¼é¢„ä¼°

| ä¼˜å…ˆçº§ | æ ¸å¿ƒä»·å€¼ |
|-------|---------|
| P0 | â€¢ å‡å°‘90%ç”¨æˆ·æµå¤±ç‡<br>â€¢ æå‡50%å†å……å€¼ç‡<br>â€¢ é™ä½80%æŠ•è¯‰ç‡ |
| P1 | â€¢ æå‡15%é‡å¤å……å€¼ç‡<br>â€¢ å‡å°‘60%è®¾å¤‡è¿‡æœŸ<br>â€¢ æå‡60%ç»­è®¢ç‡<br>â€¢ æå‡40%è®¢é˜…æ¢å¤ç‡ |
| P2 | â€¢ å‡å°‘70%æŠ€æœ¯æ”¯æŒå·¥å•<br>â€¢ æå‡50%å®¡æ ¸æ•ˆç‡<br>â€¢ æå‡80%å®‰å…¨å“åº”é€Ÿåº¦<br>â€¢ æå‡90%ç»´æŠ¤æ»¡æ„åº¦ |

---

## ğŸ¯ å…³é”®è®¾è®¡æ¨¡å¼æ€»ç»“

### 1. è§’è‰²å·®å¼‚åŒ–ç­–ç•¥

**æŠ€æœ¯è§’è‰² (Developer/DevOps)**:
- å®Œæ•´çš„æŠ€æœ¯ç»†èŠ‚å’Œè°ƒè¯•ä¿¡æ¯
- ç³»ç»Ÿçº§æ•°æ®å’Œæ€§èƒ½æŒ‡æ ‡
- æ•…éšœæ’æŸ¥æ­¥éª¤å’Œè§£å†³æ–¹æ¡ˆ

**ç®¡ç†è§’è‰² (Department Admin/Tenant Admin)**:
- ä¸šåŠ¡å½±å“è¯„ä¼°
- éƒ¨é—¨ç»Ÿè®¡æ•°æ®
- ç®¡ç†å»ºè®®å’Œåè°ƒæŒ‡å¯¼

**å®‰å…¨è§’è‰² (Auditor/Security Officer)**:
- é£é™©åˆ†æå’Œè¯„ä¼°
- åˆè§„æ£€æŸ¥å’Œå®¡è®¡è¿½è¸ª
- å¼‚å¸¸è¡Œä¸ºæ£€æµ‹

**æ™®é€šç”¨æˆ· (User/VIP User)**:
- ç®€æ˜æ˜“æ‡‚çš„è¯´æ˜
- å¤šæ¸ é“å³æ—¶é€šçŸ¥
- æ˜ç¡®çš„æ“ä½œæŒ‡å¼•

### 2. ä¼˜å…ˆçº§åˆ†é…è§„åˆ™

| ä¼˜å…ˆçº§ | è§’è‰²ç±»å‹ | é€‚ç”¨åœºæ™¯ |
|-------|---------|---------|
| 100 | super_admin | å…¨å±€ç®¡ç†å’Œå…³é”®å†³ç­– |
| 90 | devops | ç´§æ€¥è¿ç»´å’Œç³»ç»Ÿæ‰§è¡Œ |
| 85 | vip_user | VIPç”¨æˆ·ä¼˜å…ˆæœåŠ¡ |
| 70 | developer, department_admin, auditor | ä¸“ä¸šç”¨æˆ·å’Œç®¡ç†äººå‘˜ |
| 50 | finance, accountant | è´¢åŠ¡ç›¸å…³é€šçŸ¥ |

### 3. å¤šæ¸ é“é€šçŸ¥ç­–ç•¥

**ä¸‰æ¸ é“ï¼ˆwebsocket + email + smsï¼‰**:
- å¯†ç ä¿®æ”¹ï¼ˆç”¨æˆ·ï¼‰
- ç³»ç»Ÿç»´æŠ¤ï¼ˆç”¨æˆ·ï¼‰
- å…³é”®å®‰å…¨äº‹ä»¶

**åŒæ¸ é“ï¼ˆwebsocket + emailï¼‰**:
- å®¡æ ¸ç»“æœé€šçŸ¥
- ç³»ç»Ÿç»´æŠ¤ï¼ˆç®¡ç†å‘˜/è¿ç»´ï¼‰
- é‡è¦ä¸šåŠ¡äº‹ä»¶

**å•æ¸ é“ï¼ˆwebsocketï¼‰**:
- å®æ—¶çŠ¶æ€æ›´æ–°
- å†…éƒ¨ç³»ç»Ÿé€šçŸ¥
- éå…³é”®ä¸šåŠ¡äº‹ä»¶

---

## ğŸ”— ç›¸å…³æ–‡ä»¶

### SQLæ¨¡æ¿æ–‡ä»¶

1. `/tmp/p2-app-install-failed.sql` - åº”ç”¨å®‰è£…å¤±è´¥ï¼ˆ3ä¸ªæ¨¡æ¿ï¼‰
2. `/tmp/p2-app-approved-rejected.sql` - åº”ç”¨å®¡æ ¸ï¼ˆ4ä¸ªæ¨¡æ¿ï¼‰
3. `/tmp/p2-user-password-changed.sql` - å¯†ç ä¿®æ”¹ï¼ˆ2ä¸ªæ¨¡æ¿ï¼‰
4. `/tmp/p2-system-maintenance.sql` - ç³»ç»Ÿç»´æŠ¤ï¼ˆ3ä¸ªæ¨¡æ¿ï¼‰

### éªŒè¯è„šæœ¬

- `/tmp/verify-p2-templates.sh` - P2æ¨¡æ¿éªŒè¯è„šæœ¬

### æ–‡æ¡£

- `/home/eric/next-cloudphone/docs/P0_NOTIFICATION_TEMPLATES_COMPLETION_REPORT.md` - P0å®ŒæˆæŠ¥å‘Š
- `/home/eric/next-cloudphone/docs/P1_NOTIFICATION_TEMPLATES_COMPLETION_REPORT.md` - P1å®ŒæˆæŠ¥å‘Š
- `/home/eric/next-cloudphone/docs/P2_NOTIFICATION_TEMPLATES_COMPLETION_REPORT.md` - æœ¬æ–‡æ¡£

---

## âœ… ä¸‹ä¸€æ­¥å»ºè®®

### çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰

1. **æ¨¡æ¿æµ‹è¯•**
   - ä¸ºæ¯ä¸ªP2äº‹ä»¶åˆ›å»ºæµ‹è¯•ç”¨ä¾‹
   - éªŒè¯Handlebarså˜é‡æ¸²æŸ“
   - æµ‹è¯•å¤šæ¸ é“å‘é€

2. **ä¸šåŠ¡é›†æˆ**
   - åœ¨app-serviceä¸­é›†æˆapp.install_failedäº‹ä»¶
   - åœ¨notification-serviceä¸­é›†æˆsystem.maintenanceäº‹ä»¶
   - åœ¨user-serviceä¸­é›†æˆuser.password_changedäº‹ä»¶

3. **ç›‘æ§ä¼˜åŒ–**
   - ç›‘æ§P2æ¨¡æ¿çš„å‘é€æˆåŠŸç‡
   - æ”¶é›†ç”¨æˆ·å¯¹ç»´æŠ¤é€šçŸ¥çš„åé¦ˆ
   - åˆ†æå®‰å…¨å‘Šè­¦çš„å“åº”æ—¶é—´

### ä¸­æœŸï¼ˆ1-2ä¸ªæœˆï¼‰

1. **æ•°æ®åˆ†æ**
   - ç»Ÿè®¡å„P2äº‹ä»¶çš„è§¦å‘é¢‘ç‡
   - åˆ†ææ¨¡æ¿ç‚¹å‡»ç‡å’Œæœ‰æ•ˆæ€§
   - è¯„ä¼°ä¸šåŠ¡ä»·å€¼å®ç°æƒ…å†µ

2. **æ¨¡æ¿ä¼˜åŒ–**
   - æ ¹æ®ç”¨æˆ·åé¦ˆä¼˜åŒ–å†…å®¹
   - è°ƒæ•´ä¼˜å…ˆçº§å’Œæ¸ é“ç­–ç•¥
   - å¢åŠ ä¸ªæ€§åŒ–å˜é‡

3. **åŠŸèƒ½å¢å¼º**
   - å®ç°æ¨¡æ¿ç‰ˆæœ¬ç®¡ç†
   - æ”¯æŒA/Bæµ‹è¯•
   - å¢åŠ æ¨¡æ¿é¢„è§ˆåŠŸèƒ½

---

## ğŸ“ æ€»ç»“

P2é€šçŸ¥æ¨¡æ¿çš„å®ç°å®Œæˆäº†"Nice-to-have"çº§åˆ«çš„ä¸šåŠ¡éœ€æ±‚ï¼Œè¦†ç›–äº†åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€å®‰å…¨ç›‘æ§ã€ç³»ç»Ÿç»´æŠ¤ç­‰é‡è¦åœºæ™¯ã€‚

**æ ¸å¿ƒæˆæœ**:
- âœ… 12ä¸ªé«˜è´¨é‡è§’è‰²ä¸“ç”¨æ¨¡æ¿
- âœ… è¦†ç›–4ä¸ªé‡è¦ä¸šåŠ¡äº‹ä»¶
- âœ… å…¨éƒ¨é€šè¿‡åŠŸèƒ½éªŒè¯
- âœ… å®Œæ•´çš„Handlebarsé«˜çº§ç‰¹æ€§åº”ç”¨
- âœ… æ¸…æ™°çš„è§’è‰²å·®å¼‚åŒ–ç­–ç•¥

**ä¸šåŠ¡å½±å“**:
- å‡å°‘70%æŠ€æœ¯æ”¯æŒå·¥å•ï¼ˆåº”ç”¨å®‰è£…å¤±è´¥ï¼‰
- æå‡50%å®¡æ ¸æ•ˆç‡ï¼ˆåº”ç”¨å®¡æ ¸æµç¨‹ï¼‰
- æå‡80%å®‰å…¨å“åº”é€Ÿåº¦ï¼ˆå¯†ç å®‰å…¨ï¼‰
- æå‡90%ç”¨æˆ·æ»¡æ„åº¦ï¼ˆç³»ç»Ÿç»´æŠ¤ï¼‰

**P0 + P1 + P2 æ€»è®¡**: **53ä¸ªæ–°æ¨¡æ¿**ï¼Œ**69ä¸ªæ€»æ¨¡æ¿**ï¼Œè¦†ç›–**13ä¸ªäº‹ä»¶ç±»å‹**ï¼ŒæœåŠ¡**8å¤§ç”¨æˆ·è§’è‰²**ã€‚

è‡³æ­¤ï¼Œ**è§’è‰²åŸºç¡€é€šçŸ¥æ¨¡æ¿ç³»ç»Ÿçš„æ ¸å¿ƒå®ç°å·²å…¨éƒ¨å®Œæˆ**ï¼ğŸ‰
